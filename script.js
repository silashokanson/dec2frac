document.addEventListener("DOMContentLoaded",()=>{let e=document.getElementById("resultDisplay"),t=document.getElementById("toggleSwitch"),n=document.getElementById("toggleLabel"),i=null,d="mixed";async function l(t){try{let n=await import("./mathFunctions.js"),[i,l,$]=n.dec2frac(t),o;o="mixed"===d?r(i,l,$):c(i,l,$),e.innerHTML=o,a(i,l,$,d)}catch(s){console.error("Error importing the module:",s)}}function r(e,t,n){let i="";return i+='<div style="display: flex; align-items: center; justify-content: center;">',i+='<div style="margin-right: 10px;">',0n!==e?(i+=`${e}`,0n!==t&&(t<0n&&n>0n||t>0n&&n<0n?i+=" - ":i+=" + ")):(t<0n&&n>0n||t>0n&&n<0n)&&(i+="-"),i+="</div>",0n!==t&&(i+=`<div style="display: inline-block; text-align: center;">
  <div>${t=t<0n?-t:t}</div>
  <div style="border-top: 1px solid black;">${n=n<0n?-n:n}</div>
</div>`),0n==t&&0n==e&&(i+="0"),(i+="</div>").trim()}function c(e,t,n){let i="";return i+='<div style="display: flex; align-items: center; justify-content: center;">',e<0n?i+='<div style="margin-right: 10px;">-</div>':0==e&&(t<0&&n>0||t>0&&n<0)&&(i+='<div style="margin-right: 10px;">-</div>'),t+=n*e,(i+=`<div style="display: inline-block; text-align: center;">
  <div>${t=t<0n?-t:t}</div>
  <div style="border-top: 1px solid black;">${n=n<0n?-n:n}</div>`).trim()}function a(t,n,d,l){let r="(";0n!==t?("mixed"==l?r+=`${t}`:n+=d*t,0n!==n&&(n<0n&&d>0n||n>0n&&d<0n?r+="-":"mixed"==l&&(r+="+"))):(n<0n&&d>0n||n>0n&&d<0n)&&(r+="-"),0n!==n&&(r+=`${n=n<0n?-n:n}/${d=d<0n?-d:d}`),r+=")";let c=()=>{$(r)};i&&e.removeEventListener("click",i),i=c,e.addEventListener("click",i)}function $(e){navigator.clipboard.writeText(e).then(()=>{o(`${e} copied to clipboard`)}).catch(e=>{console.error("Could not copy text: ",e)})}function o(e){let t=document.createElement("div");t.className="toast",t.innerText=e,document.body.appendChild(t),setTimeout(()=>{t.classList.add("fade-out"),setTimeout(()=>{document.body.removeChild(t)},1e3)},1e3)}t.addEventListener("change",()=>{d=t.checked?"mixed":"fraction",n.innerText=t.checked?"Mixed Number":"Fraction",l(document.getElementById("numberInput").value)});let s=new URLSearchParams(window.location.search),m=s.get("num");m&&(document.getElementById("numberInput").value=m,l(m));let v=document.getElementById("numberInput");v&&v.addEventListener("input",e=>{let t=e.target.value;l(t)})});